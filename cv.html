<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>السيرة الذاتية | عاصم سعيد المالكي</title>
    <meta name="description" content="السيرة الذاتية لعاصم سعيد المالكي، خبير تطوير إداري وتقني متخصص في تحليل البيانات وتحسين أداء العمل.">
    
    <meta property="og:title" content="السيرة الذاتية | عاصم سعيد المالكي">
    <meta property="og:description" content="خبير تطوير إداري وتقني متخصص في تحليل البيانات وتحسين أداء العمل.">
    <meta property="og:image" content="https://asemai.com/10.jpg"> <meta property="og:url" content="https://asemai.com/"> <meta property="og:type" content="website">
    
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "عاصم سعيد المالكي",
      "jobTitle": "خبير تطوير إداري وتقني ومحلل بيانات",
      "url": "https://asemai.com/",
      "image": "https://asemai.com/10.jpg",
      "email": "mailto:asem1almalki@gmail.com",
      "telephone": "+966502332378",
      "sameAs": [
        "https://www.linkedin.com/in/asem-almalki-038902174/"
      ]
    }
    </script>

    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><rect width=%22100%22 height=%22100%22 rx=%2215%22 fill=%22%231F3C5F%22></rect><text y=%22.9em%22 font-size=%2280%22 fill=%22%23FFFFFF%22 x=%2250%22 text-anchor=%22middle%22 font-family=%22Tajawal, sans-serif%22>ع</text></svg>">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <style>
        :root {
            --bg-primary-dark: #121212;
            --bg-secondary-dark: #1A1A1A;
            --header-bg-dark: linear-gradient(145deg, rgba(0,191,255,0.15), rgba(0,123,255,0.05));
            --text-primary-dark: #FFFFFF;
            --text-secondary-dark: #adadad;
            --accent-blue-dark: #0070c0;
            --border-color-dark: #404040;
            --shadow-dark: 0 10px 40px rgba(0, 0, 0, 0.5);
            --bg-primary-light: #E8EAEB; 
            --bg-secondary-light: #FFFFFF; 
            --header-bg-light: linear-gradient(145deg, rgba(31,60,95,0.08), rgba(98,125,152,0.03)); 
            --text-primary-light: #343A40; 
            --text-secondary-light: #495057; 
            --accent-blue-light: #1F3C5F; 
            --border-color-light: #DEE2E6; 
            --shadow-light: 0 8px 30px rgba(0, 0, 0, 0.08); 
            --font-ar: 'Tajawal', sans-serif; --font-en: 'Roboto', sans-serif;
        }
        ::selection { background-color: var(--accent-blue-dark); color: var(--text-primary-dark); }
        ::-webkit-scrollbar { width: 12px; }
        ::-webkit-scrollbar-track { background: var(--bg-secondary-dark); }
        ::-webkit-scrollbar-thumb { background-color: var(--border-color-dark); border-radius: 10px; border: 3px solid var(--bg-secondary-dark); }
        ::-webkit-scrollbar-thumb:hover { background-color: var(--accent-blue-dark); }
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: var(--font-ar); background-color: var(--bg-primary-dark); color: var(--text-primary-dark);
            line-height: 1.8; display: flex; justify-content: center; align-items: flex-start;
            min-height: 100vh; padding: 40px 15px; transition: background-color 0.3s ease, color 0.3s ease;
        }
        .cv-wrapper {
            width: 100%; max-width: 980px; background-color: var(--bg-secondary-dark);
            border: 1px solid var(--border-color-dark); border-radius: 12px;
            box-shadow: var(--shadow-dark); padding: 40px; position: relative;
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }
        .top-buttons { position: absolute; top: 20px; left: 20px; display: flex; gap: 10px; z-index: 10; }
        html[dir="ltr"] .top-buttons {
    left: auto;
    right: 20px;
}
        .icon-btn {
            background: none; border: 1px solid var(--border-color-dark); color: var(--text-secondary-dark);
            width: 40px; height: 40px; border-radius: 50%; cursor: pointer;
            font-size: 1.2rem; display: flex; align-items: center; justify-content: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        .icon-btn:hover { color: var(--accent-blue-dark); border-color: var(--accent-blue-dark); transform: translateY(-2px); }
        body.light-mode { background-color: var(--bg-primary-light); color: var(--text-primary-light); }
        body.light-mode .cv-wrapper { background-color: var(--bg-secondary-light); border-color: var(--border-color-light); box-shadow: var(--shadow-light); }
        body.light-mode .cv-header { background: var(--header-bg-light); border-color: var(--border-color-light); }
        body.light-mode .profile-name { color: var(--text-primary-light); }
        body.light-mode .profile-job-title { color: var(--accent-blue-light); }
        body.light-mode .contact-list a { color: var(--text-secondary-light); }
        body.light-mode .contact-list i { color: var(--accent-blue-light); }
        body.light-mode .contact-list a:hover { color: var(--accent-blue-light); background-color: rgba(0, 123, 255, 0.05); }
        body.light-mode .section-title { color: var(--accent-blue-light); }
        body.light-mode .section-content p, body.light-mode .section-content li { color: var(--text-secondary-light); }
        body.light-mode .timeline { border-color: var(--border-color-light); }
        body.light-mode .timeline-item::before { background-color: var(--accent-blue-light); border-color: var(--bg-secondary-light); }
        body.light-mode .timeline-title { color: var(--text-primary-light); }
        body.light-mode .timeline-date { color: var(--accent-blue-light); }
        body.light-mode .timeline-duties li::before { color: var(--accent-blue-light); }
        body.light-mode .timeline-duties li:hover, body.light-mode .skills-list li:hover { color: var(--accent-blue-light); }
        body.light-mode .skill-category h4 { color: var(--text-primary-light); border-color: var(--border-color-light); }
        body.light-mode .skills-list i { color: var(--accent-blue-light); }
        body.light-mode .icon-btn { border-color: var(--border-color-light); color: var(--text-secondary-light); }
        body.light-mode .icon-btn:hover { color: var(--accent-blue-light); border-color: var(--accent-blue-light); }
        .cv-header { text-align: center; margin: -40px -40px 40px -40px; padding: 40px; padding-bottom: 30px; border-bottom: 1px solid var(--border-color-dark); border-radius: 12px 12px 0 0; background: var(--header-bg-dark); transition: all 0.3s ease; }
        .cv-header-content { display: flex; align-items: center; justify-content: flex-start; gap: 50px; text-align: right; position: relative; }
        html[dir="ltr"] .cv-header-content { text-align: left; }
        .profile-picture-container {
            width: 175px; height: 175px; flex-shrink: 0; position: relative;
        }
        .profile-picture { 
            width: 100%; height: 100%; border-radius: 7px; border: none; object-fit: cover; 
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08); transition: all 0.3s ease;
            cursor: pointer; opacity: 0; /* Initially hidden */
        }
        .profile-picture.loaded { opacity: 1; }
        .profile-picture:hover { transform: scale(1.05); border: 1px solid silver; }
        .profile-name { font-weight: 800; font-size: 2.7rem; color: #fff; letter-spacing: 1px; margin-bottom: 5px; transition: color 0.3s ease; }
        .profile-job-title { font-size: 1.3rem; color: var(--accent-blue-dark); font-weight: 500; margin-bottom: 20px; transition: color 0.3s ease; min-height: 2rem; }
        .contact-list { list-style: none; display: flex; justify-content: center; flex-wrap: nowrap; gap: 10px; padding: 0; overflow-x: auto; -webkit-overflow-scrolling: touch; scrollbar-width: none; }
        .contact-list::-webkit-scrollbar { display: none; }
        html[dir="ltr"] .contact-list { justify-content: center; }
        .contact-list a { 
            color: var(--text-secondary-dark); text-decoration: none; font-size: 1rem; display: flex; align-items: center; 
            gap: 8px; transition: color 0.3s ease, background-color 0.3s ease, transform 0.3s ease; 
            border-radius: 5px; padding: 2px 5px; flex-shrink: 0;
            position: relative;
            overflow: hidden;
        }
        html[dir="ltr"] .contact-list a { flex-direction: row; }
        html[dir="rtl"] .contact-list a { flex-direction: row-reverse; }
        .contact-list a:hover { color: var(--accent-blue-dark); background-color: rgba(0, 191, 255, 0.05); transform: scale(1.02); }
        .contact-list i { font-size: 1.2rem; color: var(--accent-blue-dark); transition: color 0.3s ease; }
        .contact-list a:hover i { color: inherit; }
        .cv-section { margin-bottom: 35px; }
        .section-title { font-weight: 700; font-size: 1.8rem; color: var(--accent-blue-dark); margin-bottom: 20px; display: flex; align-items: center; gap: 12px; transition: color 0.3s ease; }
        .section-title i { font-size: 1.6rem; }
        .section-content p, .section-content li { color: var(--text-secondary-dark); font-size: 1rem; transition: color 0.3s ease; }
        .section-content p .fas.fa-university { margin-inline-end: 5px; }
        .timeline-duties li, .skills-list li { transition: transform 0.3s ease, color 0.3s ease; }
        .timeline-duties li:hover, .skills-list li:hover { transform: translateX(-5px); color: var(--accent-blue-dark); }
        html[dir="ltr"] .timeline-duties li:hover, html[dir="ltr"] .skills-list li:hover { transform: translateX(5px); }
        .timeline { position: relative; padding-right: 25px; border-right: 2px solid var(--border-color-dark); transition: border-color 0.3s ease; }
        html[dir="ltr"] .timeline { padding-right: 0; padding-left: 25px; border-right: none; border-left: 2px solid var(--border-color-dark); }
        .timeline-item { position: relative; margin-bottom: 25px; }
        .timeline-item:last-child { margin-bottom: 0; }
        .timeline-item::before { content: ''; position: absolute; top: 5px; right: -14.5px; width: 11px; height: 11px; background-color: var(--accent-blue-dark); border-radius: 50%; border: 3px solid var(--bg-secondary-dark); transition: all 0.3s ease; }
        html[dir="ltr"] .timeline-item::before { right: auto; left: -14.5px; }
        .timeline-title { font-size: 1.2rem; font-weight: 700; color: var(--text-primary-dark); margin-bottom: 3px; transition: color 0.3s ease; }
        .timeline-date { color: var(--accent-blue-dark); font-size: 0.9rem; margin-bottom: 10px; display: block; transition: color 0.3s ease; }
        .timeline-duties { list-style-type: none; padding-right: 15px; }
        html[dir="ltr"] .timeline-duties { padding-right: 0; padding-left: 15px; }
        .timeline-duties li { position: relative; padding-right: 20px; margin-bottom: 8px; }
        html[dir="ltr"] .timeline-duties li { padding-right: 0; padding-left: 20px; }
        .timeline-duties li::before { content: "\f104"; font-family: "Font Awesome 6 Free"; font-weight: 900; position: absolute; right: 0; top: 1px; color: var(--accent-blue-dark); transition: color 0.3s ease; }
        html[dir="ltr"] .timeline-duties li::before { content: "\f105"; right: auto; left: 0; }
        .skills-container { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
        .skill-category h4 { font-size: 1.1rem; font-weight: 700; color: var(--text-primary-dark); margin-bottom: 15px; padding-bottom: 8px; border-bottom: 1px solid var(--border-color-dark); transition: color 0.3s ease, border-color 0.3s ease; }
        .skills-list { list-style: none; padding: 0;}
        .skills-list li { margin-bottom: 10px; display: flex; align-items: center; gap: 10px; }
        .skills-list i { color: var(--accent-blue-dark); transition: all 0.3s ease; }
        .skills-list li:hover i { transform: scale(1.2) rotate(15deg); }
        #mobile-nav-toggle { display: none; position: fixed; top: 20px; left: 20px; z-index: 999; background-color: var(--bg-secondary-dark); border-radius: 8px; }
        #mobile-nav { position: fixed; top: 0; right: -320px; width: 300px; max-width: 90%; height: 100%; z-index: 1001; transition: right 0.4s ease-in-out; padding: 20px; display: flex; flex-direction: column; gap: 20px; background-color: rgba(26, 26, 26, 0.7); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border-left: 1px solid var(--border-color-dark); }
        html[dir="ltr"] #mobile-nav { right: auto; left: -320px; transition: left 0.4s ease-in-out; border-left: none; border-right: 1px solid var(--border-color-dark); }
        body.mobile-nav-active #mobile-nav { right: 0; }
        html[dir="ltr"] body.mobile-nav-active #mobile-nav { left: 0; }
        #mobile-nav-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.6); z-index: 1000; opacity: 0; visibility: hidden; transition: opacity 0.4s, visibility 0.4s; }
        body.mobile-nav-active #mobile-nav-overlay { opacity: 1; visibility: visible; }
        .mobile-nav-header { display: flex; justify-content: space-between; align-items: center; padding-bottom: 10px; }
        .mobile-nav-header h5 { font-size: 1.2rem; color: var(--text-primary-dark); }
        #mobile-nav-close { background: none; border: none; font-size: 1.5rem; padding: 0; width: auto; height: auto; }
        #mobile-contact-links, #mobile-settings-buttons { list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 12px; }
        #mobile-contact-links a, #mobile-settings-buttons button { display: flex; align-items: center; gap: 15px; text-decoration: none; color: var(--text-secondary-dark); padding: 10px; border-radius: 5px; transition: all 0.3s ease; background: none; border: none; width: 100%; font-size: 1rem; font-family: var(--font-ar); flex-direction: row; }
        #mobile-settings-buttons { border-top: 1px solid var(--border-color-dark); padding-top: 20px; }
        #mobile-contact-links a:hover, #mobile-settings-buttons button:hover { background-color: rgba(0, 191, 255, 0.05); color: var(--accent-blue-dark); }
        #mobile-contact-links a i, #mobile-settings-buttons button i { font-size: 1.2rem; color: var(--accent-blue-dark); width: 20px; }
        body.light-mode #mobile-nav { background-color: rgba(255, 255, 255, 0.7); border-color: var(--border-color-light); }
        body.light-mode .mobile-nav-header h5 { color: var(--text-primary-light); }
        body.light-mode #mobile-settings-buttons { border-color: var(--border-color-light); }
        body.light-mode #mobile-contact-links a, body.light-mode #mobile-settings-buttons button { color: var(--text-secondary-light); }
        body.light-mode #mobile-contact-links a:hover, body.light-mode #mobile-settings-buttons button:hover { color: var(--accent-blue-light); background-color: rgba(0, 123, 255, 0.05); }
        body.light-mode #mobile-contact-links a i, body.light-mode #mobile-settings-buttons button i { color: var(--accent-blue-light); }
        body.light-mode #mobile-nav-toggle { background-color: var(--bg-secondary-light); }
        #back-to-top { position: fixed; bottom: 25px; left: 25px; opacity: 0; visibility: hidden; transform: translateY(20px); transition: all 0.4s ease; z-index: 998; }
        #back-to-top.visible { opacity: 1; visibility: visible; transform: translateY(0); }
        html[dir="ltr"] #back-to-top { left: auto; right: 25px; }
        #progress-bar { position: fixed; top: 0; left: 0; height: 4px; background: var(--accent-blue-dark); width: 0%; z-index: 9999; transition: width 0.1s linear; }
        body.light-mode #progress-bar { background: var(--accent-blue-light); }
        .cursor { display: inline-block; background-color: var(--accent-blue-dark); width: 3px; animation: blink 1s infinite; }
        @keyframes blink { 50% { opacity: 0; } }
        body.light-mode .cursor { background: var(--accent-blue-light); }
        .ripple { position: absolute; border-radius: 50%; background-color: rgba(255, 255, 255, 0.3); transform: scale(0); animation: ripple-animation 0.6s linear; }
        @keyframes ripple-animation { to { transform: scale(4); opacity: 0; } }
        .modal { display: none; position: fixed; z-index: 1002; padding-top: 50px; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.85); opacity: 0; transition: opacity 0.4s ease; }
        .modal.visible { display: block; opacity: 1; }
        .modal-content-wrapper { margin: auto; text-align: center; position: relative; max-width: 90%; max-height: 90%; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        @keyframes zoomIn { from {transform: scale(0.8); opacity: 0;} to {transform: scale(1); opacity: 1;} }
        .modal.visible .modal-content-wrapper { animation: zoomIn 0.4s ease; }
        .modal-content { display: block; max-width: 100%; max-height: 80vh; width: auto; height: auto; object-fit: contain; border-radius: 8px; border: 3px solid #444; }
        .modal-caption { margin-top: 15px; color: #ccc; font-size: 1.2rem; font-weight: 500; }
        .modal-close-btn { position: absolute; top: -10px; right: 15px; color: #f1f1f1; font-size: 40px; font-weight: bold; transition: 0.3s; cursor: pointer; }
        .modal-close-btn:hover, .modal-close-btn:focus { color: #bbb; text-decoration: none; }
        
        /* Loader styles */
        .loader-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-primary-dark);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            opacity: 1;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        body.light-mode .loader-container { background-color: var(--bg-primary-light); }
        .loader-container.hidden {
            opacity: 0;
            visibility: hidden;
        }
        .profile-pic-loader {
            position: absolute;
            background-color: var(--bg-secondary-dark); /* Match the card background */
            border-radius: 7px;
            z-index: 1; /* Above image placeholder */
        }
        body.light-mode .profile-pic-loader { background-color: var(--bg-secondary-light); }
        .loader {
            position: relative;
            width: 2.5em;
            height: 2.5em;
            transform: rotate(165deg);
        }
        .loader:before, .loader:after {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            display: block;
            width: 0.5em;
            height: 0.5em;
            border-radius: 0.25em;
            transform: translate(-50%, -50%);
        }
        .loader:before { animation: before8 2s infinite; }
        .loader:after { animation: after6 2s infinite; }
        @keyframes before8 {
            0% { width: 0.5em; box-shadow: 1em -0.5em rgba(225, 20, 98, 0.75), -1em 0.5em rgba(111, 202, 220, 0.75); }
            35% { width: 2.5em; box-shadow: 0 -0.5em rgba(225, 20, 98, 0.75), 0 0.5em rgba(111, 202, 220, 0.75); }
            70% { width: 0.5em; box-shadow: -1em -0.5em rgba(225, 20, 98, 0.75), 1em 0.5em rgba(111, 202, 220, 0.75); }
            100% { box-shadow: 1em -0.5em rgba(225, 20, 98, 0.75), -1em 0.5em rgba(111, 202, 220, 0.75); }
        }
        @keyframes after6 {
            0% { height: 0.5em; box-shadow: 0.5em 1em rgba(61, 184, 143, 0.75), -0.5em -1em rgba(233, 169, 32, 0.75); }
            35% { height: 2.5em; box-shadow: 0.5em 0 rgba(61, 184, 143, 0.75), -0.5em 0 rgba(233, 169, 32, 0.75); }
            70% { height: 0.5em; box-shadow: 0.5em -1em rgba(61, 184, 143, 0.75), -0.5em 1em rgba(233, 169, 32, 0.75); }
            100% { box-shadow: 0.5em 1em rgba(61, 184, 143, 0.75), -0.5em -1em rgba(233, 169, 32, 0.75); }
        }

        @media (max-width: 1025px) {
            .skills-container { grid-template-columns: 1fr; }
            body { padding: 20px 10px; }
            .cv-wrapper { padding: 25px; padding-top: 80px; }
            .top-buttons, .cv-header .contact-list { display: none; }
            #mobile-nav-toggle { display: flex; }
            .cv-header-content { flex-direction: column; gap: 20px; }
            .profile-name { font-size: 2.0rem; }
            .profile-job-title { font-size: 1.0rem; margin-bottom: 0;}
            .cv-header { margin: -80px -25px 30px -25px; padding: 25px; padding-top: 80px;}
        }
        @media (max-width: 768px) {
            body { padding: 20px 10px; }
            .cv-wrapper { padding: 25px; padding-top: 80px; }
            .top-buttons, .cv-header .contact-list { display: none; }
            #mobile-nav-toggle { display: flex; }
            .cv-header-content { flex-direction: column; gap: 20px; }
            .profile-name { font-size: 2.0rem; }
            .profile-job-title { font-size: 1.0rem; margin-bottom: 0;}
            .cv-header { margin: -80px -25px 30px -25px; padding: 25px; padding-top: 80px;}
        }
        @media (max-width: 420px) {
            .profile-name { font-size: 1.8rem; }
            .profile-job-title { font-size: 0.8rem; }
        }
        @media (max-width: 376px) {
            .profile-name { font-size: 1.7rem; }
            .profile-job-title { font-size: 0.7rem; }
        }
    </style>

    <style id="print-specific-styles">
        @media print {
            @page { size: A4; margin: 0.7cm 1.2cm; }
            * { background: transparent !important; color: #000 !important; box-shadow: none !important; text-shadow: none !important; transition: none !important; letter-spacing: normal !important; }
            body { font-size: 9pt; line-height: 1.3; }
            a { text-decoration: none; }
            .top-buttons, #mobile-nav-toggle, #mobile-nav, #mobile-nav-overlay, #back-to-top, .profile-picture-container, .timeline-item::before, .timeline-duties li::before, #progress-bar, #imageModal, .cursor, .loader-container { display: none !important; }
            [data-aos] { transform: none !important; opacity: 1 !important; }
            .cv-wrapper, .timeline { border: none !important; padding: 0 !important; }
            .cv-header { text-align: center; padding: 0 0 6px 0 !important; margin: 0 0 10px 0 !important; border-bottom: 1px solid #888 !important; }
            .cv-header-content, .profile-info, html[dir="rtl"] .profile-info { align-items: center !important; width: 100%; }
            .profile-info { text-align: center !important; }
            .profile-name { font-size: 19pt !important; margin-bottom: 1px !important; }
            .profile-job-title { font-size: 11pt !important; margin-bottom: 6px !important; }
            .cv-header .contact-list { justify-content: center !important; gap: 10px 20px !important; display: flex !important; align-items: center; }
            
            .contact-list a[href^="https://wa.me/"] {
                display: none !important;
            }
            
            .contact-list span[data-translate-key] { font-size: 0; }
            .contact-list span[data-translate-key]::after { font-size: 9pt; }
            .contact-list a i {
                display: inline-block !important;
                font-size: 8.5pt !important;
                vertical-align: middle;
            }
            html[dir="rtl"] .contact-list a i { margin-left: 4px; }
            html[dir="ltr"] .contact-list a i { margin-right: 4px; }
            
            .contact-list span[data-translate-key="phone"]::after { content: "0502332378"; }
            .contact-list span[data-translate-key="website"]::after { content: "asemai.com"; }
            .contact-list span[data-translate-key="email"]::after { content: "asem1almalki@gmail.com"; }
            .contact-list span[data-translate-key="linkedin"]::after { content: "Asem Almalki"; }

            .cv-section { margin-bottom: 10px !important; page-break-inside: avoid; }
            .section-title { font-size: 12.5pt; font-weight: bold; padding-bottom: 3px; margin-bottom: 6px; border-color: #ccc; }
            .timeline-item { margin-bottom: 8px; }
            .timeline-title { font-size: 10pt; }
            .timeline-date { font-size: 8.5pt; margin-bottom: 3px; }
            .timeline-duties { list-style-position: inside; list-style-type: disc; }
            .timeline-duties li { padding-right: 5px; margin-bottom: 2px; }
            html[dir="ltr"] .timeline-duties li { padding-right: 0; padding-left: 5px; }
            .skills-container { display: grid !important; grid-template-columns: 1fr 1fr 1fr !important; gap: 0 20px; }
            .skill-category { page-break-inside: avoid; }
            .skill-category h4 { font-size: 10pt; margin-bottom: 4px; padding-bottom: 2px; }
            .skills-list li { margin-bottom: 2px; }
        }
    </style>
</head>
<body>

    <div id="page-loader" class="loader-container">
        <div class="loader"></div>
    </div>

    <div id="progress-bar"></div>

    <div class="cv-wrapper" data-aos="fade-in">
        <button type="button" id="mobile-nav-toggle" class="icon-btn" title="القائمة" aria-controls="mobile-nav" aria-expanded="false">
            <i class="fas fa-bars"></i>
        </button>

        <div class="top-buttons">
            <button id="theme-toggle" class="icon-btn" title="تبديل الوضع"><i class="fas fa-sun"></i></button>
            <button id="lang-toggle" class="icon-btn" title="Switch Language"><i class="fas fa-language"></i></button>
            <button id="print-btn" class="icon-btn" title="طباعة"><i class="fas fa-print"></i></button>
            <button id="customize-cv-btn" class="icon-btn" title="تخصيص السيرة الذاتية لوظيفة"><i class="fas fa-magic"></i></button>
            <button id="user-login-btn" class="icon-btn" title="لوحة تحكم المستخدم"><i class="fas fa-user-circle"></i></button>
        </div>

        <header class="cv-header">
            <div class="cv-header-content">
                <div class="profile-picture-container">
                    <div id="profile-pic-loader" class="loader-container profile-pic-loader">
                        <div class="loader"></div>
                    </div>
                    <img src="/img/DSC_00570.jpg" alt="صورة عاصم المالكي الشخصية" class="profile-picture" id="profile-pic-trigger">
                </div>
                <div class="profile-info">
                    <h1 class="profile-name" data-translate-key="name">عاصم سعيد المالكي</h1>
                    <h2 class="profile-job-title" data-translate-key="jobTitle">
                        <span id="typing-effect"></span><span class="cursor">&nbsp;</span>
                    </h2>
                    <ul class="contact-list">
                      <li><a href="tel:+966502332378"> <span data-translate-key="phone">+966502332378</span> <i class="fas fa-phone-alt"></i></a></li>
                      <li><a href="https://asemai.com/" target="_blank" rel="noopener noreferrer"> <span data-translate-key="website">الموقع الشخصي</span> <i class="fas fa-globe"></i></a></li>
                      <li><a href="mailto:asem1almalki@gmail.com"> <span data-translate-key="email">البريد الإلكتروني</span> <i class="fas fa-envelope"></i></a></li>
                      <li><a href="https://www.linkedin.com/in/asem-almalki-038902174/" target="_blank" rel="noopener noreferrer"> <span data-translate-key="linkedin">LinkedIn</span> <i class="fab fa-linkedin"></i></a></li>
                      <li><a href="https://wa.me/966502332378" target="_blank" rel="noopener noreferrer"> <span data-translate-key="whatsapp">WhatsApp</span> <i class="fab fa-whatsapp"></i></a></li>
                    </ul>
                </div>
            </div>
        </header>

        <main>
            <section class="cv-section" data-aos="fade-up">
                <h3 class="section-title"><i class="fas fa-address-card"></i> <span data-translate-key="summaryTitle">نبذة تعريفية</span></h3>
                <div class="section-content">
                    <p data-translate-key="summaryText">خبير تطوير إداري وتقني يمتلك خبرة واسعة تمتد لأكثر من 9 سنوات في تحليل البيانات وأتمتة الإجراءات لدعم القرارات الاستراتيجية. متخصص في استخدام أدوات Microsoft Power Platform لتحويل البيانات إلى رؤى قابلة للتنفيذ، ونجح في إعادة هيكلة إجراءات العمل مما أدى إلى تقليص مدة الإنجاز بنسبة 88%.</p>
                </div>
            </section>

            <section class="cv-section" data-aos="fade-up">
                <h3 class="section-title"><i class="fas fa-briefcase"></i> <span data-translate-key="experienceTitle">الخبرة العملية</span></h3>
                <div class="section-content">
                    <div class="timeline">
                        <div class="timeline-item">
                            <h4 class="timeline-title" data-translate-key="exp1Company">منشأة حكومية</h4>
                            <p style="font-style: italic; color: var(--text-secondary-dark);" data-translate-key="exp1Title">خبير تطوير إداري وتقني ومحلل بيانات</p>
                            <span class="timeline-date" data-translate-key="exp1Date">أغسطس ٢٠١٥ - الوقت الحاضر</span>
                            <ul class="timeline-duties">
                                <li data-translate-key="exp1Duty1">إعادة هيكلة إجراءات قسم "الجاليات" بالكامل، وتقليص مدة إنجاز المعاملات بنسبة 88%.</li>
                                <li data-translate-key="exp1Duty2">بناء نظام مؤتمت بـ Excel و Power BI لإنشاء لوحات بيانات تفاعلية تدعم اتخاذ القرار.</li>
                                <li data-translate-key="exp1Duty3">بناء قاعدة بيانات ومنصة إلكترونية للجنة حكومية مشتركة، مما ساهم في تحسين آلية عملها المتعثرة.</li>
                                <li data-translate-key="exp1Duty4">كفاءة عالية في إدارة مهام متعددة، حظيت بتقدير وتوصية من الإدارة المباشرة.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
            
            <section class="cv-section" data-aos="fade-up">
                <h3 class="section-title"><i class="fas fa-graduation-cap"></i> <span data-translate-key="educationTitle">المؤهل العلمي</span></h3>
                <div class="section-content">
                     <div class="timeline">
                        <div class="timeline-item">
                            <h4 class="timeline-title" data-translate-key="edu1Degree">البكالوريوس في العلوم الإدارية</h4>
                            <span class="timeline-date" data-translate-key="edu1Date">٢٠١٥ - ٢٠١٩</span>
                            <p data-translate-key="edu1University"><i class="fas fa-university"></i> جامعة الملك عبد العزيز / كلية الاقتصاد والإدارة </p>
                        </div>
                    </div>
                </div>
            </section>

            <section class="cv-section" data-aos="fade-up">
                <h3 class="section-title"><i class="fas fa-cogs"></i> <span data-translate-key="skillsTitle">المهارات</span></h3>
                <div class="section-content">
                    <div class="skills-container">
                        <div class="skill-category">
                            <h4 data-translate-key="skillsCat1"><i class="fas fa-chart-line"></i> المهارات التقنية</h4>
                            <ul class="skills-list">
                                <li><i class="fas fa-check"></i> <span data-translate-key="skill1">Microsoft Power Platform (Power BI, Power Automate)</span></li>
                                <li><i class="fas fa-check"></i> <span data-translate-key="skill2">Microsoft Office Suite (Excel, PowerPoint, Word)</span></li>
                                <li><i class="fas fa-check"></i> <span data-translate-key="skill3">HTML / CSS / JS</span></li>
                                <li><i class="fas fa-check"></i> <span>Visual Studio Code</span></li>
                                <li><i class="fas fa-check"></i> <span data-translate-key="skill4">إدارة قواعد البيانات</span></li>
                            </ul>
                        </div>
                        <div class="skill-category">
                            <h4 data-translate-key="skillsCat2"><i class="fas fa-star"></i> المهارات الشخصية</h4>
                            <ul class="skills-list">
                                <li><i class="fas fa-check"></i> <span data-translate-key="skill5">الابتكار وحل المشكلات</span></li>
                                <li><i class="fas fa-check"></i> <span data-translate-key="skill6">التفكير التحليلي</span></li>
                                <li><i class="fas fa-check"></i> <span data-translate-key="skill7">التنظيم وإدارة المهام</span></li>
                                <li><i class="fas fa-check"></i> <span data-translate-key="skill8">التواصل الفعال</span></li>
                            </ul>
                        </div>
                        <div class="skill-category">
                            <h4 data-translate-key="skillsCat3"><i class="fas fa-globe"></i> اللغات</h4>
                            <ul class="skills-list">
                                <li><i class="fas fa-check"></i> <span data-translate-key="lang1">العربية (اللغة الأم)</span></li>
                                <li><i class="fas fa-check"></i> <span data-translate-key="lang2">الإنجليزية</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <section class="cv-section" data-aos="fade-up">
                <h3 class="section-title"><i class="fas fa-certificate"></i> <span data-translate-key="coursesTitle">الشهادات والدورات</span></h3>
                <div class="section-content">
                    <ul class="timeline-duties">
                        <li data-translate-key="course1">شهادة معتمدة دولياً في برامج Microsoft Office و (ic3)</li>
                        <li data-translate-key="course2">دورة دولية متخصصة في تكنولوجيا الحاسب الآلي</li>
                        <li data-translate-key="course3">دورة في إعداد التقارير الإحترافية</li>
                        <li data-translate-key="course4">دورة في الابتكار الرقمي من معهد الإدارة العامة</li>
                        <li data-translate-key="course5">دورة تطوير مهارات الإرشاد الفعال</li>
                    </ul>
                </div>
            </section>
        </main>
    </div>

    <div id="mobile-nav" role="navigation">
        <div class="mobile-nav-header">
            <h5 data-translate-key="menuTitle">القائمة</h5>
            <button type="button" id="mobile-nav-close" class="icon-btn"><i class="fas fa-times"></i></button>
        </div>
        
        <ul id="mobile-contact-links">
            <li><a href="https://asemai.com/" target="_blank" rel="noopener noreferrer"><i class="fas fa-globe"></i><span data-translate-key="website">الموقع الشخصي</span></a></li>
            <li><a href="tel:+966502332378"><i class="fas fa-phone-alt"></i><span data-translate-key="phone">+966502332378</span></a></li>
            <li><a href="https://wa.me/966502332378" target="_blank" rel="noopener noreferrer"><i class="fab fa-whatsapp"></i><span data-translate-key="whatsapp">WhatsApp</span></a></li>
            <li><a href="https://www.linkedin.com/in/asem-almalki-038902174/" target="_blank" rel="noopener noreferrer"><i class="fab fa-linkedin"></i><span data-translate-key="linkedin">LinkedIn</span></a></li>
            <li><a href="mailto:asem1almalki@gmail.com"><i class="fas fa-envelope"></i><span data-translate-key="email">البريد الإلكتروني</span></a></li>
        </ul>

        <div id="mobile-settings-buttons">
             <button id="theme-toggle-mobile" title="تبديل الوضع"><i class="fas fa-sun"></i> <span data-translate-key="themeTitle">تبديل الوضع</span></button>
             <button id="print-btn-mobile" title="طباعة"><i class="fas fa-print"></i> <span data-translate-key="printTitle">طباعة</span></button>
             <button id="lang-toggle-mobile" title="Switch Language"><i class="fas fa-language"></i> <span data-translate-key="langTitle">تغيير اللغة</span></button>
        </div>
    </div>
    <div id="mobile-nav-overlay"></div>

    <a href="#" id="back-to-top" class="icon-btn" title="العودة للأعلى" aria-label="العودة للأعلى"><i class="fas fa-arrow-up"></i></a>

    <div id="imageModal" class="modal" role="dialog" aria-modal="true">
        <span class="modal-close-btn">&times;</span>
        <div class="modal-content-wrapper">
            <img class="modal-content" src="/img/DSC_0057.jpg" alt="صورة عاصم المالكي" loading="lazy">
            <div class="modal-caption" data-translate-key="name">عاصم سعيد المالكي</div>
        </div>
    </div>

    <div id="customizeCvModal" class="modal" role="dialog" aria-modal="true">
        <span class="modal-close-btn">&times;</span>
        <div class="modal-content-wrapper">
            <div class="modal-content-inner" style="background-color: var(--bg-secondary-dark); padding: 30px; border-radius: 12px; max-width: 500px; width: 100%; text-align: right;">
                <h3 style="color: var(--text-primary-dark); margin-bottom: 15px;" data-translate-key="customizeCvTitle">تخصيص السيرة الذاتية لوظيفة</h3>
                <p style="color: var(--text-secondary-dark); margin-bottom: 25px;" data-translate-key="customizeCvDescription">أدخل معلومات الوظيفة المستهدفة ليقوم الذكاء الاصطناعي بتصميم السيرة تلقائياً.</p>

                <div style="margin-bottom: 20px;">
                    <label for="jobLink" style="display: block; color: var(--text-primary-dark); margin-bottom: 8px;">1- رابط الوظيفة</label>
                    <input type="url" id="jobLink" placeholder="أدخل رابط الوظيفة هنا..." style="width: 100%; padding: 10px; border-radius: 6px; border: 1px solid var(--border-color-dark); background-color: var(--bg-primary-dark); color: var(--text-primary-dark);">
                </div>

                <div style="margin-bottom: 20px;">
                    <label for="jobPdf" style="display: block; color: var(--text-primary-dark); margin-bottom: 8px;">2- ملف PDF</label>
                    <input type="file" id="jobPdf" accept=".pdf" style="width: 100%; padding: 10px; border-radius: 6px; border: 1px solid var(--border-color-dark); background-color: var(--bg-primary-dark); color: var(--text-primary-dark);">
                </div>

                <div style="margin-bottom: 25px;">
                    <label for="jobDescription" style="display: block; color: var(--text-primary-dark); margin-bottom: 8px;">3- لصق الوصف الوظيفي</label>
                    <textarea id="jobDescription" rows="6" placeholder="الصق الوصف الوظيفي هنا..." style="width: 100%; padding: 10px; border-radius: 6px; border: 1px solid var(--border-color-dark); background-color: var(--bg-primary-dark); color: var(--text-primary-dark); resize: vertical;"></textarea>
                </div>

                <button id="generateCvBtn" style="width: 100%; padding: 12px; background-color: var(--accent-blue-dark); color: #fff; border: none; border-radius: 8px; font-size: 1.1rem; cursor: pointer; transition: background-color 0.3s ease;">
                    توليد السيرة الذاتية
                </button>
            </div>
        </div>
    </div>


    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            AOS.init({ duration: 800, once: true, offset: 50, easing: 'ease-in-out', });
            
            const body = document.body;
            const htmlEl = document.documentElement;
            const themeToggle = document.getElementById('theme-toggle');
            const langToggle = document.getElementById('lang-toggle');
            const printBtn = document.getElementById('print-btn');
            const themeToggleMobile = document.getElementById('theme-toggle-mobile');
            const langToggleMobile = document.getElementById('lang-toggle-mobile');
            const printBtnMobile = document.getElementById('print-btn-mobile');
            const mobileNavToggle = document.getElementById('mobile-nav-toggle');
            const mobileNav = document.getElementById('mobile-nav');
            const mobileNavClose = document.getElementById('mobile-nav-close');
            const mobileNavOverlay = document.getElementById('mobile-nav-overlay');
            const backToTopBtn = document.getElementById('back-to-top');
            const progressBar = document.getElementById('progress-bar');
            const typingEffectElement = document.getElementById('typing-effect');
            const imageModal = document.getElementById('imageModal');
            const profilePicTrigger = document.getElementById('profile-pic-trigger');
            const modalCloseBtn = document.querySelector('.modal-close-btn');
            
            const pageLoader = document.getElementById('page-loader');
            const profilePicLoader = document.getElementById('profile-pic-loader');

            // --- New elements ---
            const customizeCvBtn = document.getElementById('customize-cv-btn');
            const customizeCvModal = document.getElementById('customizeCvModal');
            const generateCvBtn = document.getElementById('generateCvBtn');
            const userLoginBtn = document.getElementById('user-login-btn');


            // --- Handle Image Loading ---
            profilePicTrigger.style.opacity = '0';
            profilePicTrigger.onload = () => {
                profilePicLoader.classList.add('hidden');
                profilePicTrigger.style.opacity = '1';
                profilePicTrigger.classList.add('loaded');
            };
            if (profilePicTrigger.complete) {
                profilePicTrigger.onload();
            }

            // --- Hide Page Loader on window load ---
            window.addEventListener('load', () => {
                if (pageLoader) pageLoader.classList.add('hidden');
            });


            const translations = {
                name: { ar: 'عاصم سعيد المالكي', en: 'Asem Saeed Al-Malki' },
                jobTitle: { ar: 'خبير تطوير إداري وتقني ومحلل بيانات', en: 'Administrative & Technical Development Expert and Data Analyst' },
                phone: { ar: 'جوال', en: 'Phone' },
                website: { ar: 'الموقع الشخصي', en: 'Website' },
                email: { ar: 'البريد الإلكتروني', en: 'Email' },
                linkedin: { ar: 'LinkedIn', en: 'LinkedIn' },
                whatsapp: { ar: 'WhatsApp', en: 'WhatsApp' },
                summaryTitle: { ar: 'نبذة تعريفية', en: 'Professional Summary' },
                summaryText: { ar: 'خبير تطوير إداري بخبرة +9 سنوات، أعمل على تحسين الكفاءة التشغيلية عبر تحليل البيانات وأتمتة العمل. نجحت في قيادة مبادرة أدت لتقليص زمن الإنجاز بنسبة تجاوزت 80%.', en: 'A management development expert with over 9 years of experience, I work to improve operational efficiency through data analysis and workflow automation. I successfully led an initiative that reduced turnaround time by over 80%.' },
                experienceTitle: { ar: 'الخبرة العملية', en: 'Work Experience' },
                exp1Company: { ar: 'منشأة حكومية', en: 'Government Entity' },
                exp1Title: { ar: 'خبير تطوير إداري وتقني ومحلل بيانات', en: 'Administrative & Technical Development Expert and Data Analyst' },
                exp1Date: { ar: 'أغسطس ٢٠١٥ - الوقت الحاضر', en: 'August 2015 - Present' },
                exp1Duty1: { ar: 'إعادة هيكلة إجراءات قسم "الجاليات" بالكامل، وتقليص مدة إنجاز المعاملات بنسبة 88%.', en: 'Completely restructured the "Communities" department procedures, reducing transaction processing time by 88%.' },
                exp1Duty2: { ar: 'بناء نظام مؤتمت بـ Excel و Power BI لإنشاء لوحات بيانات تفاعلية تدعم اتخاذ القرار.', en: 'Built an automated system using Excel and Power BI to create interactive dashboards for decision support.' },
                exp1Duty3: { ar: 'بناء قاعدة بيانات ومنصة إلكترونية للجنة حكومية مشتركة، مما ساهم في تحسين آلية عملها المتعثرة.', en: 'Built a database and an electronic platform for a joint governmental committee, helping to improve its struggling workflow.' },
                exp1Duty4: { ar: 'كفاءة عالية في إدارة مهام متعددة، حظيت بتقدير وتوصية من الإدارة المباشرة.', en: 'High efficiency in managing multiple tasks, earning appreciation and a recommendation from direct management.' },
                educationTitle: { ar: 'المؤهل العلمي', en: 'Education' },
                edu1Degree: { ar: 'البكالوريوس في العلوم الإدارية', en: 'Bachelor of Administrative Sciences' },
                edu1Date: { ar: '٢٠١٥ - ٢٠١٩', en: '2015 - 2019' },
                edu1University: { ar: '<i class="fas fa-university"></i> جامعة الملك عبد العزيز / كلية الاقتصاد والإدارة', en: '<i class="fas fa-university"></i> King Abdulaziz University / Faculty of Economics and Administration' },
                skillsTitle: { ar: 'المهارات', en: 'Skills' },
                skillsCat1: { ar: '<i class="fas fa-chart-line"></i> المهارات التقنية', en: 'Technical Skills' },
                skill1: { ar: 'Microsoft Power Platform (Power BI, Power Automate)', en: 'Microsoft Power Platform (Power BI, Power Automate)' },
                skill2: { ar: 'Microsoft Office Suite (Excel, PowerPoint, Word)', en: 'Microsoft Office Suite (Excel, PowerPoint, Word)' },
                skill3: { ar: 'HTML / CSS / JS', en: 'HTML / CSS / JS' },
                skill4: { ar: 'إدارة قواعد البيانات', en: 'Database Management' },
                skillsCat2: { ar: '<i class="fas fa-star"></i> المهارات الشخصية', en: 'Soft Skills' },
                skill5: { ar: 'الابتكار وحل المشكلات', en: 'Innovation & Problem-Solving' },
                skill6: { ar: 'التفكير التحليلي', en: 'Analytical Thinking' },
                skill7: { ar: 'التنظيم وإدارة المهام', en: 'Organization & Task Management' },
                skill8: { ar: 'التواصل الفعال', en: 'Effective Communication' },
                skillsCat3: { ar: '<i class="fas fa-globe"></i> اللغات', en: 'Languages' },
                lang1: { ar: 'العربية (اللغة الأم)', en: 'Arabic (Native)' },
                lang2: { ar: 'الإنجليزية', en: 'English' },
                coursesTitle: { ar: 'الشهادات والدورات', en: 'Certificates & Courses' },
                course1: { ar: 'شهادة معتمدة دولياً في برامج Microsoft Office و (ic3)', en: 'Internationally certified in Microsoft Office programs and (IC3)' },
                course2: { ar: 'دورة دولية متخصصة في تكنولوجيا الحاسب الآلي', en: 'Specialized international course in computer technology' },
                course3: { ar: 'دورة في إعداد التقارير الإحترافية', en: 'Course in professional report preparation' },
                course4: { ar: 'دورة في الابتكار الرقمي من معهد الإدارة العامة', en: 'Course in Digital Innovation from the Institute of Public Administration' },
                course5: { ar: 'دورة تطوير مهارات الإرشاد الفعال', en: 'Course on developing effective counseling skills' },
                menuTitle: { ar: 'القائمة', en: 'Menu' },
                themeTitle: { ar: 'تبديل الوضع', en: 'Toggle Theme' },
                langTitle: { ar: 'تغيير اللغة', en: 'Change Language' },
                printTitle: { ar: 'طباعة', en: 'Print' },
                // New translations
                customizeCvTitle: { ar: 'تخصيص السيرة الذاتية لوظيفة', en: 'Customize CV for Job' },
                customizeCvDescription: { ar: 'أدخل معلومات الوظيفة المستهدفة ليقوم الذكاء الاصطناعي بتصميم السيرة تلقائياً.', en: 'Enter target job information for AI to automatically design the CV.' },
                jobLink: { ar: 'رابط الوظيفة', en: 'Job Link' },
                jobPdf: { ar: 'ملف PDF', en: 'PDF File' },
                pasteDescription: { ar: 'لصق الوصف الوظيفي', en: 'Paste Job Description' },
                generateCvButton: { ar: 'توليد السيرة الذاتية', en: 'Generate CV' },
                userDashboardTitle: { ar: 'لوحة تحكم المستخدم', en: 'User Dashboard' }
            };
            
            function startTypingEffect(text) {
                if (!typingEffectElement) return;
                let i = 0;
                typingEffectElement.innerHTML = "";
                function type() {
                    if (i < text.length) {
                        typingEffectElement.innerHTML += text.charAt(i);
                        i++;
                        setTimeout(type,60);
                    }
                }
                type();
            }

            function updateProgressBar() {
                if (!progressBar) return;
                const { scrollTop, scrollHeight, clientHeight } = document.documentElement;
                const scrollPercent = (scrollTop / (scrollHeight - clientHeight)) * 100;
                progressBar.style.width = `${scrollPercent}%`;
            }

            function createRipple(event) {
                const button = event.currentTarget;
                const circle = document.createElement("span");
                const diameter = Math.max(button.clientWidth, button.clientHeight);
                const radius = diameter / 2;
                circle.style.width = circle.style.height = `${diameter}px`;
                circle.style.left = `${event.clientX - (button.getBoundingClientRect().left + radius)}px`;
                circle.style.top = `${event.clientY - (button.getBoundingClientRect().top + radius)}px`;
                circle.classList.add("ripple");
                const ripple = button.getElementsByClassName("ripple")[0];
                if (ripple) { ripple.remove(); }
                button.appendChild(circle);
            }

            function openModal() {
                if (imageModal) {
                    imageModal.classList.add('visible');
                    document.body.style.overflow = 'hidden';
                    imageModal.querySelector('.modal-close-btn').focus();
                }
            }

            function closeModal() {
                // Check which modal is open and close it
                if (imageModal && imageModal.classList.contains('visible')) {
                    imageModal.classList.remove('visible');
                }
                if (customizeCvModal && customizeCvModal.classList.contains('visible')) {
                    customizeCvModal.classList.remove('visible');
                }
                document.body.style.overflow = '';
                // Potentially set focus back to the element that opened the modal
                profilePicTrigger?.focus();
            }
            
            function trapFocus(element) {
                const focusableEls = element.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="url"]:not([disabled]), input[type="file"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])');
                const firstFocusableEl = focusableEls[0];
                const lastFocusableEl = focusableEls[focusableEls.length - 1];
                const KEYCODE_TAB = 9;

                element.addEventListener('keydown', function(e) {
                    if (e.key !== 'Tab' && e.keyCode !== KEYCODE_TAB) return;
                    if (e.shiftKey) { /* shift + tab */
                        if (document.activeElement === firstFocusableEl) {
                            lastFocusableEl.focus();
                            e.preventDefault();
                        }
                    } else /* tab */ {
                        if (document.activeElement === lastFocusableEl) {
                            firstFocusableEl.focus();
                            e.preventDefault();
                        }
                    }
                });
            }


            function applySavedTheme() {
                const savedTheme = localStorage.getItem('theme');
                const icons = document.querySelectorAll('#theme-toggle i, #theme-toggle-mobile i');
                if (savedTheme === 'light') {
                    body.classList.add('light-mode');
                    icons.forEach(icon => { icon.classList.remove('fa-sun'); icon.classList.add('fa-moon'); });
                } else {
                    body.classList.remove('light-mode');
                    icons.forEach(icon => { icon.classList.remove('fa-moon'); icon.classList.add('fa-sun'); });
                }
            }

            function setLanguage(lang) {
                htmlEl.lang = lang;
                htmlEl.dir = lang === 'ar' ? 'rtl' : 'ltr';
                body.style.fontFamily = lang === 'ar' ? 'var(--font-ar)' : 'var(--font-en)';
                document.querySelectorAll('[data-translate-key]').forEach(el => {
                    const key = el.dataset.translateKey;
                    if (key === 'jobTitle') {
                        if (translations[key] && translations[key][lang]) {
                            startTypingEffect(translations[key][lang]);
                        }
                    } else if (translations[key] && translations[key][lang]) {
                        el.innerHTML = translations[key][lang];
                    }
                });
                localStorage.setItem('language', lang);
            }

            function handleThemeToggle() {
                body.classList.toggle('light-mode');
                const icons = document.querySelectorAll('#theme-toggle i, #theme-toggle-mobile i');
                let theme = body.classList.contains('light-mode') ? 'light' : 'dark';
                if (theme === 'light') {
                    icons.forEach(icon => { icon.classList.remove('fa-sun'); icon.classList.add('fa-moon'); });
                } else {
                    icons.forEach(icon => { icon.classList.remove('fa-moon'); icon.classList.add('fa-sun'); });
                }
                localStorage.setItem('theme', theme);
            }

            function handleLangToggle() {
                const newLang = htmlEl.lang === 'ar' ? 'en' : 'ar';
                setLanguage(newLang);
            }
            
            function handlePrint() {
                window.print();
            }

            function toggleMobileNav() {
                const isNavActive = body.classList.toggle('mobile-nav-active');
                mobileNavToggle.setAttribute('aria-expanded', isNavActive);
                if (isNavActive) {
                    mobileNavClose.focus();
                } else {
                    mobileNavToggle.focus();
                }
            }

            // Function to open the customize CV modal
            function openCustomizeCvModal() {
                if (customizeCvModal) {
                    customizeCvModal.classList.add('visible');
                    document.body.style.overflow = 'hidden';
                    customizeCvModal.querySelector('.modal-close-btn').focus();
                }
            }

            // Dummy functionality for generate CV button
            generateCvBtn?.addEventListener('click', () => {
                const jobLink = document.getElementById('jobLink').value;
                const jobPdf = document.getElementById('jobPdf').files[0];
                const jobDescription = document.getElementById('jobDescription').value;

                console.log("Job Customization Request:");
                if (jobLink) {
                    console.log("Job Link:", jobLink);
                }
                if (jobPdf) {
                    console.log("PDF File:", jobPdf.name);
                }
                if (jobDescription) {
                    console.log("Job Description:", jobDescription.substring(0, 100) + "..."); // Log first 100 chars
                }
                alert("طلب تخصيص السيرة الذاتية قيد المعالجة (وظيفة وهمية)!"); // Dummy message
                closeModal(); // Close the modal after "processing"
            });

            // Dummy User Login functionality
            userLoginBtn?.addEventListener('click', () => {
                console.log("Attempting dummy login for Asem Saeed Al-Malki with password 1234...");
                alert("تم تسجيل الدخول بنجاح (وظيفة وهمية)! سيتم توجيهك إلى لوحة التحكم.");
                window.location.href = 'cvai.html'; // Redirect to the dashboard page
            });


            // --- Event Listeners ---
            [themeToggle, themeToggleMobile].forEach(btn => btn?.addEventListener('click', handleThemeToggle));
            [langToggle, langToggleMobile].forEach(btn => btn?.addEventListener('click', handleLangToggle));
            [printBtn, printBtnMobile].forEach(btn => btn?.addEventListener('click', handlePrint));
            
            mobileNavToggle?.addEventListener('click', toggleMobileNav);
            mobileNavClose?.addEventListener('click', toggleMobileNav);
            mobileNavOverlay?.addEventListener('click', toggleMobileNav);

            window.addEventListener('scroll', () => {
                if (window.scrollY > 300) {
                    backToTopBtn?.classList.add('visible');
                } else {
                    backToTopBtn?.classList.remove('visible');
                }
                updateProgressBar();
            });

            document.querySelectorAll('.icon-btn, .contact-list a').forEach(button => {
                button.addEventListener("click", createRipple);
            });

            profilePicTrigger?.addEventListener('click', openModal);
            modalCloseBtn?.addEventListener('click', closeModal);
            imageModal?.addEventListener('click', (event) => {
                if (event.target === imageModal) closeModal();
            });
            // Event listener for customize CV button
            customizeCvBtn?.addEventListener('click', openCustomizeCvModal);
            // Close button for new modal
            customizeCvModal?.querySelector('.modal-close-btn')?.addEventListener('click', closeModal);
            customizeCvModal?.addEventListener('click', (event) => {
                if (event.target === customizeCvModal) closeModal();
            });

            document.addEventListener('keydown', (event) => {
                if (event.key === "Escape") {
                    if (imageModal.classList.contains('visible')) closeModal();
                    if (customizeCvModal.classList.contains('visible')) closeModal(); // Also close new modal
                    if (body.classList.contains('mobile-nav-active')) toggleMobileNav();
                }
            });

            // --- Initial Load ---
            applySavedTheme();
            const savedLang = localStorage.getItem('language') || 'ar';
            setLanguage(savedLang);
            if (mobileNav) trapFocus(mobileNav);
            if (imageModal) trapFocus(imageModal);
            if (customizeCvModal) trapFocus(customizeCvModal); // Trap focus for the new modal
        });
    </script>
</body>
</html>